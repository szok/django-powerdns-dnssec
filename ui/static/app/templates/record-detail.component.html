<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title" *ngIf="isCreate">Create new record</h3>
    <h3 class="panel-title" *ngIf="!isCreate">Edit record</h3>
  </div>
  <div class="panel-body">
    <div *ngIf="errorMessage" class="alert alert-success alert-danger">
        {{ errorMessage }}
    </div>
    <div *ngIf="save" class="alert alert-success alert-dismissible">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        Record was save successfully.
    </div>
    <form *ngIf="record" [ngFormModel]="recordForm" (ngSubmit)="onSubmit()" class="form-horizontal">
      <fieldset>
      <div class="form-group">
        <label for="domain_id" class="col-sm-2 control-label">Domain
          <span class="glyphicon glyphicon-info-sign" title="Use the left field to do Domain lookups in the fields name." aria-hidden="true"></span>
        </label>
        <div class="col-sm-6">
          <!-- change domain_id to domain -->
          <autocomplete
            [forNgModel]="record"
            [service]="domainService"
            ngModelField="domain_id"
            placeholder="Search domain">
          </autocomplete>
        </div>  
      </div>
       <div class="form-group">
        <label for="type" class="col-sm-2 control-label">Type</label>
         <div class="col-sm-3">
          <select
              id="type"
              class="form-control"
              required
              [(ngModel)]="record.type"
              (ngModelChange)="onChangeType($event)"
              ngControl="type"
              #type="ngForm">
              <option *ngFor="let type of recordTypes" [value]="type">{{ type }}</option>
          </select>
          <div [hidden]="type.valid || type.pristine" class="alert alert-danger">
            <p *ngIf="type.errors && type.errors.required">Type is required.</p>
          </div>
         </div>
      </div>
      <div class="form-group">
        <label for="name" class="col-sm-2 control-label">Name
          <span class="glyphicon glyphicon-info-sign" title="Actual name of a record. Must not end in a '.' and be fully qualified - it is not relative to the name of the domain!" aria-hidden="true"></span>
        </label>
        <div class="col-sm-6">
          <input
              type="text"
              id="name"
              class="form-control"
              required
              [(ngModel)]="record.name"
              ngControl="name"
              #name="ngForm" />
          <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
            <p *ngIf="name.errors && name.errors.required">Name is required.</p>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="content" class="col-sm-2 control-label">Content
          <span class="glyphicon glyphicon-info-sign" title="The 'right hand side' of a DNS record. For an A record, this is the IP address" aria-hidden="true"></span>
        </label>
        <div class="col-sm-6">
          <input
              type="text"
              id="content"
              class="form-control"
              required
              [(ngModel)]="record.content"
              ngControl="content"
              #content="ngForm" />
          <div [hidden]="content.valid || content.pristine" class="alert alert-danger">
            <p *ngIf="content.errors && content.errors.required">Content is required.</p>
          </div>
         </div>
      </div>
      <div class="form-group">
        <label for="type" class="col-sm-2 control-label">Remarks</label>
        <div class="col-sm-6">
          <textarea
              id="remarks"
              class="form-control"
              [(ngModel)]="record.remarks">
          </textarea>
        </div>
      </div>
      </fieldset>
      <fieldset>
        <legend>Advanced options</legend>
        <div class="form-group" [style.display]="isMxRecord ? 'block' : 'none'">
          <label for="prio" class="col-sm-2 control-label">Priority
            <span class="glyphicon glyphicon-info-sign" title="For MX records, this should be the priority of the mail exchanger specified" aria-hidden="true"></span>
          </label>
          <div class="col-sm-2">
            <input
              type="text"
              id="prio"
              class="form-control"
              [(ngModel)]="record.prio"
              ngControl="prio"
              #prio="ngForm" />
          </div>
        </div>
        <div class="form-group">
          <label for="ttl" class="col-sm-2 control-label">TTL
            <span class="glyphicon glyphicon-info-sign" title="TTL in seconds" aria-hidden="true"></span>
          </label>
          <div class="col-sm-2">
            <input
              type="text"
              id="ttl"
              class="form-control"
              required
              [(ngModel)]="record.ttl"
              ngControl="ttl"
              #ttl="ngForm" />
            <div [hidden]="ttl.valid || ttl.pristine" class="alert alert-danger">
              <p *ngIf="ttl.errors && ttl.errors.required">TTL is required.</p>
            </div>
          </div>
        </div>
      </fieldset>
      <div class="row">
        <div class="col-sm-12">
          <button type="submit" class="btn btn-success" [disabled]="!recordForm.valid">
            <span *ngIf="isCreate">
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
              Create new record
            </span>
            <span *ngIf="!isCreate">
              <span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
              Save
            </span>
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="panel-footer"></div>
</div>